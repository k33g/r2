{"version":3,"sources":["@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/4","/Users/k33g_org/Dropbox/r2/src/r2/Request.js","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/1","/Users/k33g_org/Dropbox/r2/src/r2.js"],"names":[],"mappings":"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","sourcesContent":["var __moduleName = $__placeholder__0;","var $__placeholder__0 = $__placeholder__1","/*\n#R2 Request\n\n##GET\n\n    new Request(\"/humans\").get().then((data) => {\n      console.log(data);\n    })\n\n    new Request(\"/humans/hFPDywuRsPdJM7Fa\").get()\n      .then((data)=>{\n        console.log(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n##POST\n\n    new Request(\"/humans\")\n      .post({firstName:\"Philippe\", lastName:\"CharriÃ¨re\"})\n      .then((data) => {\n        console.log(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n\n##PUT\n\n    new Request(\"/humans/yk7LXLlHXFD9Uch2\")\n      .put({firstName:\"Tony\", lastName:\"Stark\"})\n      .then((data) => {\n        console.log(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n\n##DELETE\n\n    new Request(\"/humans/hFPDywuRsPdJM7Fa\").delete()\n      .then((data)=>{\n        console.log(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n */\nclass Request {\n\n  constructor (url) {\n    this.request = new XMLHttpRequest();\n    this.url = url;\n  }\n\n  url (url) {\n    this.url = url;\n    return this;\n  }\n\n  sendRequest () { /*json or text only*/\n\n    return new Promise((resolve, reject) => {\n      this.request.open(this.method, this.url);\n      this.request.onload = () => {\n        // If the request was successful\n        if (this.request.status === 200) {\n          // Get the type of the response\n          var type = this.request.getResponseHeader(\"Content-Type\");\n          // Check type\n          if (type === \"application/json\") {\n            resolve(JSON.parse(this.request.response)); // JSON response\n          } else {\n            resolve(this.request.response); // String response\n          }\n        } else { /* oups */\n          reject(Error(this.request.statusText));\n        }\n      }\n      // Handle network errors\n      this.request.onerror = function() {\n        reject(Error(\"Network Error\"));\n      };\n\n      this.request.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.request.send(this.method === undefined ? null : JSON.stringify(this.data));\n    });\n  }\n\n  get (id) {\n    this.url = id === undefined ? this.url : this.url + \"/\" + id;\n    this.method = \"GET\";\n    return this.sendRequest();\n  }\n\n  post (jsonData) {\n    this.method = \"POST\";\n    this.data = jsonData;\n    return this.sendRequest();\n  }\n\n  put (jsonData, id) {\n    this.url = id === undefined ? this.url : this.url + \"/\" + id;\n    this.method = \"PUT\";\n    this.data = jsonData;\n    return this.sendRequest();\n  }\n\n  delete (id) {\n    this.url = id === undefined ? this.url : this.url + \"/\" + id;\n    this.method = \"DELETE\";\n    return this.sendRequest();\n  }\n}\n\nexport default Request;\n\n","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","var $__default = $__placeholder__0","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","/*=== launcher ===*/\nimport Request from './r2/Request';\n\nwindow.r2 = {};\nr2.Request = Request;"]}